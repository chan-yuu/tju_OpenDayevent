# 智能调度系统学习知识点

## 一、基础概念

### 1.1 什么是调度系统
- **定义**：调度系统是指合理分配任务给执行者（如车辆）的智能系统
- **目标**：最小化成本、时间，最大化效率
- **应用**：物流配送、校园接驳、外卖配送、出租车调度等

### 1.2 核心组成
- **节点（Node）**：地图上的地点（宿舍、食堂、图书馆等）
- **边（Edge）**：连接节点的道路
- **车辆（Vehicle）**：执行任务的运输工具
- **任务（Task）**：从取货点到送货点的运输需求

## 二、图论基础

### 2.1 图的表示
- **顶点（Vertex）**：代表地点
- **边（Edge）**：代表道路连接
- **权重（Weight）**：边的长度或代价

### 2.2 最短路径算法
- **Dijkstra算法**
  - 用途：找到两点之间最短路径
  - 原理：从起点开始，逐步扩展到所有可达节点
  - 复杂度：O((V+E)logV)，V是节点数，E是边数

### 2.3 图的遍历
- **深度优先搜索（DFS）**
- **广度优先搜索（BFS）**

## 三、调度算法

### 3.1 智能调度（多因子权衡）
- **考虑因素**：
  - 距离：车辆到任务的距离
  - 电量：车辆剩余电量
  - 优先级：任务的紧急程度
- **计算方法**：加权组合多个因素
- **优点**：综合效果好，适应性强
- **缺点**：计算复杂度较高

### 3.2 最近优先调度（贪心算法）
- **原理**：总是选择离任务最近的车辆
- **优点**：
  - 空驶距离最短
  - 响应速度快
  - 算法简单
- **缺点**：
  - 可能导致某些车辆过载
  - 不考虑电量因素

### 3.3 负载均衡调度
- **原理**：优先分配给完成任务最少的车辆
- **优点**：
  - 车辆利用均匀
  - 避免个别车辆过载
- **缺点**：
  - 总行驶距离可能较长
  - 不考虑地理位置

## 四、性能指标

### 4.1 总行驶距离
- **定义**：所有车辆累计行驶的总距离
- **意义**：反映燃料/电量消耗
- **优化**：通过路径优化减少

### 4.2 总耗电量
- **定义**：所有车辆累计消耗的电量
- **计算**：每步移动消耗 = 车辆耗电率 × 距离
- **管理**：需要考虑充电站位置

### 4.3 空驶距离
- **定义**：车辆去接货（未装载货物）的行驶距离
- **意义**：空驶距离越小，效率越高
- **优化**：通过智能调度减少空驶

### 4.4 运营成本
- **计算公式**：运营成本 = 距离成本 + 电量成本
  - 距离成本 = 总距离 × 单位距离成本
  - 电量成本 = 总耗电 × 单位电量成本
- **意义**：综合评估系统效率

## 五、电池管理

### 5.1 电池系统
- **接驳车**：容量600，耗电率0.8
- **物流车**：容量800，耗电率0.6
- **充电阈值**：电量低于20%需充电

### 5.2 充电策略
- **充电站**：地图上的特殊节点
- **充电速度**：每周期恢复2%电量
- **调度策略**：电量不足时自动导航到充电站

## 六、仿真技术

### 6.1 什么是仿真
- **定义**：用计算机模拟真实系统的运行
- **优势**：
  - 无需真实设备
  - 可快速测试
  - 可调节时间速度

### 6.2 仿真要素
- **仿真时间**：虚拟的系统运行时间
- **仿真速度**：控制仿真快慢的参数
- **实时更新**：动态显示系统状态

## 七、算法优化

### 7.1 多目标优化
- **定义**：同时优化多个相互冲突的目标
- **例如**：
  - 最短距离 vs 最少电量
  - 最快完成 vs 最低成本
  - 平均负载 vs 总效率

### 7.2 权重调整
- **目的**：平衡不同目标的重要性
- **方法**：给每个目标分配权重值
- **示例**：cost = distance/priority - (battery/maxBattery)×10

## 八、实际应用

### 8.1 校园场景
- 学生接驳：宿舍 ↔ 教学楼
- 物资配送：仓库 → 各建筑
- 垃圾回收：各点 → 垃圾站

### 8.2 城市场景
- 外卖配送
- 出租车调度
- 共享单车调度
- 快递配送

### 8.3 工业场景
- 仓库AGV调度
- 生产线物料配送
- 港口集装箱调度

## 九、编程实现

### 9.1 数据结构
- **状态对象（State）**：存储系统所有数据
  - nodes: 节点数组
  - edges: 边数组
  - vehicles: 车辆数组
  - tasks: 任务数组

### 9.2 关键函数
- `findPath()`: 寻找最短路径
- `scheduleTask()`: 任务调度
- `updateSimulation()`: 更新仿真状态
- `updateStats()`: 更新性能指标
