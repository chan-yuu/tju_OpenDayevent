# 校园无人驾驶调度系统 Demo 功能设计

## 📋 项目概述

本Demo旨在展示校园环境下无人驾驶接驳车/物流车的智能调度系统，通过可视化界面让用户直观体验各种调度算法的运行效果，理解调度优化的核心概念。

---

## 🎯 目标用户

- 高校师生（教学演示）
- 科研人员（算法对比）
- 企业参观者（技术展示）
- 对自动驾驶和智能调度感兴趣的公众

---

## 🗺️ 核心功能模块

### 一、校园地图可视化

| 功能项 | 描述 |
|--------|------|
| **地图展示** | 展示校园道路网络、建筑物、站点位置 |
| **实时车辆位置** | 动态显示所有无人车的当前位置和状态 |
| **路径动画** | 车辆行驶路径的动态轨迹展示 |
| **热力图** | 显示各站点/区域的需求热度 |
| **交通状态** | 道路拥堵程度的可视化（绿/黄/红） |

### 二、订单/需求管理

| 功能项 | 描述 |
|--------|------|
| **手动下单** | 用户可在地图上点击起点和终点发起乘车/物流请求 |
| **批量生成** | 一键生成随机订单模拟高峰期场景 |
| **订单列表** | 展示所有待处理、进行中、已完成订单 |
| **需求预测** | 基于历史数据预测未来时段的需求分布 |
| **约束设置** | 设置时间窗口、优先级、载重限制等约束条件 |

### 三、调度算法演示

#### 3.1 算法选择面板

| 算法类别 | 具体算法 |
|----------|----------|
| **经典启发式** | 最近邻算法、贪心分配、插入法 |
| **元启发式** | 遗传算法(GA)、模拟退火(SA)、蚁群算法(ACO)、粒子群优化(PSO) |
| **数学规划** | 混合整数规划(MIP)、约束规划(CP) |
| **强化学习** | DQN、PPO、Actor-Critic |
| **组合方法** | 分层调度、滚动时域优化 |

#### 3.2 算法对比功能

- **并行运行**：同时运行多个算法，实时对比效果
- **性能指标**：总行驶距离、平均等待时间、车辆利用率、能耗等
- **可视化对比图表**：柱状图/雷达图展示各算法表现

### 四、车辆管理

| 功能项 | 描述 |
|--------|------|
| **车队配置** | 设置车辆数量、类型（接驳车/物流车）、容量 |
| **车辆状态** | 空闲、服务中、充电中、故障维修 |
| **电量管理** | 显示各车电量，自动规划充电调度 |
| **速度设置** | 调节车辆行驶速度（用于演示加速/减速） |
| **车辆详情** | 点击车辆显示当前任务、历史轨迹、统计数据 |

### 五、仿真控制

| 功能项 | 描述 |
|--------|------|
| **播放/暂停** | 控制仿真运行状态 |
| **速度调节** | 1x、2x、5x、10x 加速播放 |
| **时间跳转** | 跳转到指定时间点 |
| **场景回放** | 回放历史调度过程 |
| **实时模式** | 模拟真实时间流逝的调度 |

### 六、场景预设

| 场景名称 | 描述 |
|----------|------|
| **早高峰** | 大量从宿舍到教学区的接驳需求 |
| **午餐时段** | 食堂周边的集中需求 |
| **快递配送** | 物流车从菜鸟驿站到各宿舍楼的配送 |
| **突发事件** | 某路段临时封闭的应急调度 |
| **大型活动** | 体育馆/报告厅活动结束后的疏散 |
| **混合任务** | 接驳车和物流车的协同调度 |

---

## 📊 数据展示与分析

### 统计仪表盘

- **实时KPI**
  - 在途车辆数
  - 等待订单数
  - 平均等待时间
  - 系统吞吐量

- **历史统计**
  - 每小时订单量趋势图
  - 各站点使用频率排名
  - 车辆利用率分析
  - 能耗/里程统计

### 算法性能报告

- 计算时间
- 解的质量（目标函数值）
- 约束满足程度
- 收敛曲线（对于迭代算法）

---

## 🎮 交互体验功能

### 1. 新手引导

- 首次进入的引导教程
- 关键功能的提示气泡
- 常见问题FAQ

### 2. 参数调节

- 算法参数滑块（如遗传算法的种群大小、变异率）
- 实时观察参数变化对结果的影响

### 3. 挑战模式

- 给定场景和约束，让用户尝试手动调度
- 与算法结果对比，展示优化效果

### 4. 自定义地图

- 上传自定义校园地图
- 编辑站点和道路

---

## 🖥️ 界面布局建议

```
┌─────────────────────────────────────────────────────────────┐
│  顶部导航栏：Logo | 算法选择 | 场景选择 | 帮助 | 设置      │
├───────────────────────────────────────┬─────────────────────┤
│                                       │                     │
│                                       │   控制面板          │
│                                       │   ├─ 仿真控制       │
│           校园地图可视化区域           │   ├─ 车辆列表       │
│       (支持缩放、拖拽、点击交互)       │   ├─ 订单列表       │
│                                       │   └─ 参数设置       │
│                                       │                     │
├───────────────────────────────────────┴─────────────────────┤
│  底部信息栏：实时KPI指标 | 时间轴 | 状态日志               │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔧 技术架构

### 前端 (HTML/CSS/JavaScript)

- **地图渲染**：Leaflet.js / Mapbox GL / Canvas
- **图表库**：ECharts / Chart.js
- **UI框架**：原生CSS + 现代设计风格
- **WebSocket**：实时数据推送

### 后端 (Python)

- **Web框架**：FastAPI / Flask
- **算法实现**：自研 + OR-Tools + Stable-Baselines3
- **数据存储**：SQLite / Redis (缓存)
- **仿真引擎**：SimPy 或自研离散事件仿真

---

## 📝 待确认问题

> [!IMPORTANT]
> 请确认以下设计方向：

1. **地图选择**：使用真实校园地图还是虚拟设计的校园？
2. **算法深度**：需要展示多少种调度算法？是否需要包含强化学习方法？
3. **教学功能**：是否需要配套的知识讲解/答题模块？
4. **性能要求**：预计同时模拟多少辆车和多少订单？
5. **部署方式**：本地运行还是需要部署到服务器？

---

## 🚀 开发优先级建议

### Phase 1 - 基础功能（MVP）
- [ ] 校园地图展示
- [ ] 基本订单管理
- [ ] 2-3种经典调度算法
- [ ] 简单的仿真控制

### Phase 2 - 增强功能
- [ ] 更多算法实现
- [ ] 算法对比功能
- [ ] 数据统计仪表盘
- [ ] 场景预设

### Phase 3 - 高级功能
- [ ] 强化学习算法
- [ ] 自定义地图
- [ ] 挑战模式
- [ ] 历史回放

---

*文档版本: v1.0*  
*创建日期: 2026-01-27*
