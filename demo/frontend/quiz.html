<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·¯å¾„è§„åˆ’ä¸æ§åˆ¶çŸ¥è¯†æµ‹éªŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        /* ç™»å½•é¡µé¢ */
        .login-page {
            text-align: center;
        }

        .login-page input {
            width: 100%;
            max-width: 300px;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #667eea;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ç­”é¢˜é¡µé¢ */
        .quiz-page {
            display: none;
        }

        .quiz-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 10px;
        }

        .quiz-info div {
            font-size: 18px;
            font-weight: bold;
            color: #667eea;
        }

        .timer {
            color: #e74c3c;
        }

        .question-card {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #e0e0e0;
        }

        .question-number {
            color: #667eea;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            line-height: 1.6;
        }

        .options {
            list-style: none;
        }

        .option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px 20px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f0ff;
        }

        .option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .option.correct {
            border-color: #27ae60;
            background: #27ae60;
            color: white;
        }

        .option.wrong {
            border-color: #e74c3c;
            background: #e74c3c;
            color: white;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn-secondary {
            background: #95a5a6;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
        }

        /* ç»“æœé¡µé¢ */
        .result-page {
            display: none;
            text-align: center;
        }

        .score-display {
            font-size: 72px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 30px 0;
        }

        .result-info {
            font-size: 24px;
            color: #666;
            margin: 20px 0;
        }

        .leaderboard {
            margin-top: 40px;
            text-align: left;
        }

        .leaderboard h2 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            transition: background 0.2s;
        }

        .leaderboard-item:hover {
            background: #f5f5f5;
        }

        .leaderboard-item.me {
            background: #fff4e6;
            font-weight: bold;
        }

        .rank {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            min-width: 50px;
        }

        .rank.gold {
            color: #f39c12;
        }

        .rank.silver {
            color: #95a5a6;
        }

        .rank.bronze {
            color: #cd7f32;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .explanation {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            background: #f0f7ff;
            border-left: 4px solid #667eea;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .explanation-title {
            font-size: 16px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .explanation-content {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
        }

        .result-indicator {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .result-indicator.correct {
            background: #27ae60;
            color: white;
        }

        .result-indicator.wrong {
            background: #e74c3c;
            color: white;
        }

        .mini-leaderboard {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ è·¯å¾„è§„åˆ’ä¸æ§åˆ¶æµ‹éªŒ</h1>
            <p>æµ‹è¯•ä½ å¯¹è§„åˆ’ç®—æ³•ä¸PIDæ§åˆ¶çš„æŒæ¡ç¨‹åº¦</p>
        </div>

        <div class="content">
            <!-- ç™»å½•é¡µé¢ -->
            <div class="login-page" id="login-page">
                <h2 style="color: #667eea; margin-bottom: 20px;">å¼€å§‹æµ‹éªŒ</h2>
                <p style="color: #666; margin-bottom: 15px;">è¯·è¾“å…¥ä½ çš„åå­—</p>
                <input type="text" id="username-input" placeholder="è¾“å…¥ä½ çš„åå­—" maxlength="20">
                <br>
                <button class="btn" onclick="startQuiz()">å¼€å§‹ç­”é¢˜</button>

                <div class="mini-leaderboard" style="margin-top: 30px;">
                    <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ† å½“å‰æ’è¡Œæ¦œ</h3>
                    <div id="initial-leaderboard"></div>
                </div>
            </div>

            <!-- ç­”é¢˜é¡µé¢ -->
            <div class="quiz-page" id="quiz-page">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>

                <div class="quiz-info">
                    <div>ğŸ‘¤ <span id="display-username"></span></div>
                    <div>ğŸ“ <span id="current-question">1</span>/20</div>
                    <div class="timer">â±ï¸ <span id="timer">00:00</span></div>
                </div>

                <div class="question-card">
                    <div class="question-number">ç¬¬ <span id="question-num">1</span> é¢˜</div>
                    <div class="question-text" id="question-text"></div>
                    <ul class="options" id="options"></ul>

                    <!-- ç­”æ¡ˆè§£æ -->
                    <div class="explanation" id="explanation">
                        <div class="result-indicator" id="result-indicator"></div>
                        <div class="explanation-title">ğŸ’¡ çŸ¥è¯†è®²è§£</div>
                        <div class="explanation-content" id="explanation-content"></div>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevQuestion()" id="btn-prev">ä¸Šä¸€é¢˜</button>
                    <button class="btn" onclick="nextQuestion()" id="btn-next">ä¸‹ä¸€é¢˜</button>
                </div>
            </div>

            <!-- ç»“æœé¡µé¢ -->
            <div class="result-page" id="result-page">
                <h2 style="color: #667eea;">æµ‹éªŒå®Œæˆï¼</h2>
                <div class="score-display" id="final-score">0</div>
                <div class="result-info">
                    <p>æ­£ç¡®: <strong id="correct-count">0</strong> / 20</p>
                    <p>ç”¨æ—¶: <strong id="time-spent">00:00</strong></p>
                    <p>æ’å: ç¬¬ <strong id="rank">-</strong> å</p>
                </div>

                <div class="leaderboard">
                    <h2>ğŸ† æ’è¡Œæ¦œ TOP 10</h2>
                    <div id="leaderboard-list"></div>
                </div>

                <button class="btn" onclick="location.reload()" style="margin-top: 30px;">å†æ¥ä¸€æ¬¡</button>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:8000/api';

        // é¢˜åº“ï¼ˆèšç„¦è·¯å¾„è§„åˆ’ä¸æ§åˆ¶ï¼‰
        const questionBank = [
            // è·¯å¾„è§„åˆ’åŸºç¡€ (10é¢˜)
            { q: "è·¯å¾„è§„åˆ’çš„ä¸»è¦ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ", o: ["è®©è½¦è·‘å¾—å¿«", "æ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„å®‰å…¨å¯è¡Œè·¯çº¿", "çœæ²¹", "è®©è½¦çœ‹èµ·æ¥ç‚«é…·"], a: 1, e: "è·¯å¾„è§„åˆ’çš„æ ¸å¿ƒç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€æ¡ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯çº¿ï¼Œè¿™æ¡è·¯çº¿éœ€è¦é¿å¼€éšœç¢ç‰©ã€å°½å¯èƒ½çŸ­ä¸”å¹³æ»‘ï¼Œç¡®ä¿è½¦è¾†èƒ½å¤Ÿå®‰å…¨åˆ°è¾¾ç›®çš„åœ°ã€‚" },
            { q: "A*ç®—æ³•ç›¸æ¯”Dijkstraç®—æ³•çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ", o: ["æ›´ç®€å•", "ä½¿ç”¨å¯å‘å‡½æ•°ï¼Œæœç´¢æ›´å¿«", "ä¸éœ€è¦åœ°å›¾", "éšæœºæœç´¢"], a: 1, e: "A*ç®—æ³•ä½¿ç”¨å¯å‘å‡½æ•°ï¼ˆå¦‚æ¬§æ°è·ç¦»ï¼‰æ¥æŒ‡å¯¼æœç´¢æ–¹å‘ï¼Œç›¸æ¯”Dijkstraçš„ç›²ç›®æœç´¢ï¼ŒA*èƒ½æ›´å¿«åœ°æ‰¾åˆ°æœ€çŸ­è·¯å¾„ï¼Œå°¤å…¶åœ¨å¤§è§„æ¨¡åœ°å›¾ä¸­æ•ˆç‡æ˜¾è‘—æå‡ã€‚" },
            { q: "Dijkstraç®—æ³•èƒ½ä¿è¯ä»€ä¹ˆï¼Ÿ", o: ["é€Ÿåº¦æœ€å¿«", "ä¸€å®šæ‰¾åˆ°æœ€çŸ­è·¯å¾„", "ä¸éœ€è¦è®¡ç®—", "å¯ä»¥ç©¿è¶Šéšœç¢ç‰©"], a: 1, e: "Dijkstraç®—æ³•é€šè¿‡é€æ­¥æ‰©å±•æœ€çŸ­è·ç¦»èŠ‚ç‚¹ï¼Œèƒ½å¤Ÿä¿è¯æ‰¾åˆ°ä»èµ·ç‚¹åˆ°ä»»æ„èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œæ˜¯ä¸€ç§å®Œå¤‡ä¸”æœ€ä¼˜çš„ç®—æ³•ã€‚" },
            { q: "RRTç®—æ³•çš„å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ", o: ["Rapid Random Treeï¼ˆå¿«é€Ÿéšæœºæ ‘ï¼‰", "Real Route Tree", "Robot Road Tree", "Random Road Test"], a: 0, e: "RRTï¼ˆRapidly-exploring Random Treeï¼‰æ˜¯ä¸€ç§åŸºäºéšæœºé‡‡æ ·çš„è·¯å¾„è§„åˆ’ç®—æ³•ï¼Œé€šè¿‡éšæœºç”ŸæˆèŠ‚ç‚¹å¹¶é€æ­¥æ‰©å±•æ ‘ç»“æ„ï¼Œç‰¹åˆ«é€‚åˆé«˜ç»´ç©ºé—´å’Œå¤æ‚çº¦æŸçš„è§„åˆ’é—®é¢˜ã€‚" },
            { q: "ä»€ä¹ˆæ˜¯è·¯å¾„å¹³æ»‘åº¦ï¼Ÿ", o: ["è·¯å¾„çš„é•¿åº¦", "è·¯å¾„è½¬å¼¯çš„å°–é”ç¨‹åº¦", "è·¯å¾„çš„é«˜åº¦", "è·¯å¾„çš„é¢œè‰²"], a: 1, e: "è·¯å¾„å¹³æ»‘åº¦æŒ‡è·¯å¾„ä¸­è½¬å¼¯çš„å¹³ç¼“ç¨‹åº¦ã€‚å¹³æ»‘çš„è·¯å¾„è½¬å¼¯è§’åº¦å°ã€æ›²ç‡å˜åŒ–å¹³ç¼“ï¼Œè½¦è¾†æ›´å®¹æ˜“è·Ÿè¸ªï¼Œä¹˜åèˆ’é€‚åº¦æ›´é«˜ã€‚æ€¥è½¬å¼¯ä¼šå¯¼è‡´è½¦è¾†éš¾ä»¥è·Ÿéšã€‚" },
            { q: "åœ¨è·¯å¾„è§„åˆ’ä¸­ï¼Œéšœç¢ç‰©åº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ", o: ["ç›´æ¥ç©¿è¿‡å»", "ç»•å¼€éšœç¢ç‰©", "æ¨å¼€éšœç¢ç‰©", "å¿½ç•¥éšœç¢ç‰©"], a: 1, e: "è·¯å¾„è§„åˆ’çš„é¦–è¦ä»»åŠ¡æ˜¯é¿éšœã€‚ç®—æ³•éœ€è¦æ£€æµ‹éšœç¢ç‰©ä½ç½®ï¼Œå¹¶è§„åˆ’å‡ºç»•å¼€éšœç¢ç‰©çš„å®‰å…¨è·¯å¾„ï¼Œç¡®ä¿è½¦è¾†ä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚" },
            { q: "A*ç®—æ³•ä¸­çš„å¯å‘å‡½æ•°h(n)é€šå¸¸ä½¿ç”¨ä»€ä¹ˆï¼Ÿ", o: ["éšæœºæ•°", "æ¬§æ°è·ç¦»æˆ–æ›¼å“ˆé¡¿è·ç¦»", "æ—¶é—´", "è½¦é€Ÿ"], a: 1, e: "å¯å‘å‡½æ•°h(n)ç”¨äºä¼°è®¡å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡çš„è·ç¦»ã€‚å¸¸ç”¨æ¬§æ°è·ç¦»ï¼ˆç›´çº¿è·ç¦»ï¼‰æˆ–æ›¼å“ˆé¡¿è·ç¦»ï¼ˆç½‘æ ¼è·ç¦»ï¼‰ï¼Œå¸®åŠ©ç®—æ³•ä¼˜å…ˆæ¢ç´¢æœå‘ç›®æ ‡çš„æ–¹å‘ã€‚" },
            { q: "è·¯å¾„è§„åˆ’çš„è¯„ä»·æŒ‡æ ‡ä¸åŒ…æ‹¬å“ªä¸€é¡¹ï¼Ÿ", o: ["è·¯å¾„é•¿åº¦", "è®¡ç®—æ—¶é—´", "è½¦çš„é¢œè‰²", "è·¯å¾„å¹³æ»‘åº¦"], a: 2, e: "è·¯å¾„è§„åˆ’çš„è¯„ä»·æŒ‡æ ‡åŒ…æ‹¬ï¼šè·¯å¾„é•¿åº¦ï¼ˆè¶ŠçŸ­è¶Šå¥½ï¼‰ã€è®¡ç®—æ—¶é—´ï¼ˆè¶Šå¿«è¶Šå¥½ï¼‰ã€å¹³æ»‘åº¦ï¼ˆè½¬å¼¯å¹³ç¼“ï¼‰ã€å®‰å…¨æ€§ï¼ˆé¿éšœï¼‰ç­‰ã€‚è½¦è¾†é¢œè‰²ä¸è§„åˆ’è´¨é‡æ— å…³ã€‚" },
            { q: "ä¸ºä»€ä¹ˆæœ€çŸ­è·¯å¾„ä¸ä¸€å®šæ˜¯æœ€ä¼˜è·¯å¾„ï¼Ÿ", o: ["æœ€çŸ­è·¯å¾„è‚¯å®šæœ€ä¼˜", "è¿˜éœ€è€ƒè™‘å¹³æ»‘åº¦å’Œå®‰å…¨æ€§", "æœ€çŸ­è·¯å¾„å¤ªæ…¢", "æœ€çŸ­è·¯å¾„ä¼šæ’è½¦"], a: 1, e: "æœ€çŸ­è·¯å¾„å¯èƒ½åŒ…å«å°–é”è½¬å¼¯æˆ–é è¿‘éšœç¢ç‰©ï¼Œå¯¼è‡´è½¦è¾†éš¾ä»¥è·Ÿè¸ªæˆ–ä¸å®‰å…¨ã€‚æœ€ä¼˜è·¯å¾„éœ€è¦ç»¼åˆè€ƒè™‘é•¿åº¦ã€å¹³æ»‘åº¦ã€å®‰å…¨è£•åº¦ç­‰å¤šä¸ªå› ç´ ã€‚" },
            { q: "RRTç®—æ³•é€‚ç”¨äºå“ªç§åœºæ™¯ï¼Ÿ", o: ["åªèƒ½ç”¨äºå¹³é¢", "é«˜ç»´ç©ºé—´å’Œå¤æ‚çº¦æŸ", "åªèƒ½ç›´çº¿è¡Œé©¶", "åªèƒ½ä½é€Ÿåœºæ™¯"], a: 1, e: "RRTç®—æ³•é€šè¿‡éšæœºé‡‡æ ·ï¼Œå¯ä»¥å¤„ç†é«˜ç»´çŠ¶æ€ç©ºé—´ï¼ˆå¦‚æœºå™¨äººçš„å¤šä¸ªå…³èŠ‚ï¼‰å’Œå¤æ‚çº¦æŸï¼ˆå¦‚éå®Œæ•´çº¦æŸï¼‰ï¼Œç‰¹åˆ«é€‚åˆå¤æ‚ç¯å¢ƒçš„è§„åˆ’ã€‚" },

            // PIDæ§åˆ¶åŸºç¡€ (15é¢˜)
            { q: "PIDä¸­çš„Pä»£è¡¨ä»€ä¹ˆï¼Ÿ", o: ["Proportionalï¼ˆæ¯”ä¾‹ï¼‰", "Powerï¼ˆåŠŸç‡ï¼‰", "Positionï¼ˆä½ç½®ï¼‰", "Pressureï¼ˆå‹åŠ›ï¼‰"], a: 0, e: "Pä»£è¡¨Proportionalï¼ˆæ¯”ä¾‹ï¼‰ï¼Œæ ¹æ®å½“å‰åå·®çš„å¤§å°å†³å®šæ§åˆ¶è¾“å‡ºçš„åŠ›åº¦ã€‚åå·®è¶Šå¤§ï¼Œæ§åˆ¶è¾“å‡ºè¶Šå¤§ã€‚Kpå‚æ•°æ§åˆ¶æ¯”ä¾‹å¢ç›Šã€‚" },
            { q: "PIDä¸­çš„Iä»£è¡¨ä»€ä¹ˆï¼Ÿ", o: ["Integralï¼ˆç§¯åˆ†ï¼‰", "Inputï¼ˆè¾“å…¥ï¼‰", "Initialï¼ˆåˆå§‹ï¼‰", "Increaseï¼ˆå¢åŠ ï¼‰"], a: 0, e: "Iä»£è¡¨Integralï¼ˆç§¯åˆ†ï¼‰ï¼Œç´¯ç§¯å†å²åå·®å¹¶æ–½åŠ æ§åˆ¶ã€‚ç§¯åˆ†é¡¹ç”¨äºæ¶ˆé™¤é•¿æœŸå­˜åœ¨çš„ç¨³æ€è¯¯å·®ï¼Œç¡®ä¿æœ€ç»ˆå‡†ç¡®åˆ°è¾¾ç›®æ ‡ã€‚" },
            { q: "PIDä¸­çš„Dä»£è¡¨ä»€ä¹ˆï¼Ÿ", o: ["Derivativeï¼ˆå¾®åˆ†ï¼‰", "Distanceï¼ˆè·ç¦»ï¼‰", "Directionï¼ˆæ–¹å‘ï¼‰", "Driveï¼ˆé©±åŠ¨ï¼‰"], a: 0, e: "Dä»£è¡¨Derivativeï¼ˆå¾®åˆ†ï¼‰ï¼Œæ ¹æ®åå·®çš„å˜åŒ–ç‡ï¼ˆå˜åŒ–é€Ÿåº¦ï¼‰æ–½åŠ æ§åˆ¶ã€‚å¾®åˆ†é¡¹ç”¨äºé¢„æµ‹æœªæ¥è¶‹åŠ¿ï¼Œå‡å°è¶…è°ƒå’ŒæŒ¯è¡ï¼Œæé«˜ç¨³å®šæ€§ã€‚" },
            { q: "Kpå‚æ•°è¿‡å¤§ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ", o: ["ååº”è¿‡æ…¢", "ç³»ç»ŸæŒ¯è¡ä¸ç¨³å®š", "æ— æ³•å¯åŠ¨", "å®Œç¾æ§åˆ¶"], a: 1, e: "Kpè¿‡å¤§ä¼šå¯¼è‡´æ§åˆ¶è¾“å‡ºè¿‡å¼ºï¼Œç³»ç»Ÿååº”è¿‡æ¿€ï¼Œå‡ºç°è¶…è°ƒå’ŒæŒ¯è¡ã€‚è½¦è¾†ä¼šå·¦å³æ‘‡æ‘†ï¼Œæ— æ³•ç¨³å®šè·Ÿè¸ªè·¯å¾„ã€‚éœ€è¦é€‚å½“å‡å°Kpä»¥æé«˜ç¨³å®šæ€§ã€‚" },
            { q: "Kpå‚æ•°è¿‡å°ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ", o: ["æŒ¯è¡", "ååº”æ…¢ã€åå·®å¤§ã€è·Ÿè¸ªä¸åŠæ—¶", "å®Œç¾æ§åˆ¶", "ååº”è¿‡å¿«"], a: 1, e: "Kpè¿‡å°å¯¼è‡´æ§åˆ¶è¾“å‡ºä¸è¶³ï¼Œç³»ç»Ÿååº”è¿Ÿç¼“ã€‚é¢å¯¹åå·®æ—¶è°ƒæ•´é€Ÿåº¦æ…¢ï¼Œè·Ÿè¸ªæ•ˆæœå·®ï¼Œåå·®æŒç»­å­˜åœ¨ã€‚éœ€è¦é€‚å½“å¢å¤§Kpä»¥æé«˜å“åº”é€Ÿåº¦ã€‚" },
            { q: "ç§¯åˆ†é¡¹(Ki)çš„ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ", o: ["åŠ é€Ÿè½¦è¾†", "æ¶ˆé™¤ç¨³æ€è¯¯å·®", "å‡é€Ÿè½¦è¾†", "è½¬å‘æ§åˆ¶"], a: 1, e: "ç§¯åˆ†é¡¹ç´¯ç§¯å†å²åå·®ï¼Œå½“å­˜åœ¨æŒç»­çš„å°åå·®æ—¶ï¼Œç§¯åˆ†é¡¹ä¼šé€æ¸å¢å¤§æ§åˆ¶è¾“å‡ºï¼Œæœ€ç»ˆå°†åå·®æ¶ˆé™¤åˆ°é›¶ã€‚è¿™ç¡®ä¿äº†è½¦è¾†èƒ½ç²¾ç¡®åˆ°è¾¾ç›®æ ‡ï¼Œè€Œä¸æ˜¯åœç•™åœ¨é™„è¿‘ã€‚" },
            { q: "å¾®åˆ†é¡¹(Kd)çš„ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ", o: ["åŠ é€Ÿ", "å‡é€Ÿ", "å‡å°è¶…è°ƒå’ŒæŒ¯è¡", "è½¬å‘"], a: 2, e: "å¾®åˆ†é¡¹æ ¹æ®åå·®å˜åŒ–ç‡æ–½åŠ æ§åˆ¶ï¼Œå½“åå·®å¿«é€Ÿå‡å°æ—¶ï¼ˆæ¥è¿‘ç›®æ ‡ï¼‰ï¼Œå¾®åˆ†é¡¹æ–½åŠ åå‘æ§åˆ¶ï¼Œåƒåˆ¹è½¦ä¸€æ ·é˜²æ­¢å†²è¿‡ç›®æ ‡ï¼Œå‡å°è¶…è°ƒå’ŒæŒ¯è¡ã€‚" },
            { q: "ä»€ä¹ˆæ˜¯è¶…è°ƒç°è±¡ï¼Ÿ", o: ["æ— æ³•åˆ°è¾¾ç›®æ ‡", "åˆšå¥½åˆ°è¾¾ç›®æ ‡", "è¶…è¿‡ç›®æ ‡ç‚¹ååˆè¿”å›", "ç¼“æ…¢æ¥è¿‘ç›®æ ‡"], a: 2, e: "è¶…è°ƒæ˜¯æŒ‡æ§åˆ¶ç³»ç»Ÿçš„å“åº”è¶…è¿‡äº†ç›®æ ‡å€¼ï¼Œç„¶åå†å›è°ƒã€‚ä¾‹å¦‚è½¦è¾†å‘å·¦åï¼Œçº æ­£æ—¶è½¬å‘è¿‡åº¦å¯¼è‡´å‘å³åã€‚é€‚å½“çš„Kdå‚æ•°å¯ä»¥å‡å°è¶…è°ƒã€‚" },
            { q: "ä»€ä¹ˆæ˜¯æŒ¯è¡ç°è±¡ï¼Ÿ", o: ["ç¨³å®šå‰è¿›", "å›´ç»•ç›®æ ‡å·¦å³æ‘‡æ‘†", "é™æ­¢ä¸åŠ¨", "åé€€"], a: 1, e: "æŒ¯è¡æ˜¯æŒ‡ç³»ç»Ÿå›´ç»•ç›®æ ‡å€¼æ¥å›æ‘†åŠ¨ï¼Œæ— æ³•ç¨³å®šã€‚è½¦è¾†åœ¨è·¯å¾„å·¦å³åå¤æ‘‡æ‘†ã€‚é€šå¸¸ç”±Kpè¿‡å¤§æˆ–Kdä¸è¶³å¼•èµ·ï¼Œéœ€è¦è°ƒæ•´å‚æ•°ä»¥é˜»å°¼æŒ¯è¡ã€‚" },
            { q: "ä»€ä¹ˆæ˜¯ç¨³æ€è¯¯å·®ï¼Ÿ", o: ["å¯åŠ¨æ—¶çš„è¯¯å·®", "é•¿æœŸå­˜åœ¨æ— æ³•æ¶ˆé™¤çš„è¯¯å·®", "ç¬é—´è¯¯å·®", "ä¸å­˜åœ¨è¯¯å·®"], a: 1, e: "ç¨³æ€è¯¯å·®æ˜¯ç³»ç»Ÿè¿›å…¥ç¨³å®šçŠ¶æ€åä»ç„¶å­˜åœ¨çš„åå·®ã€‚ä¾‹å¦‚è½¦è¾†å§‹ç»ˆåç¦»è·¯å¾„0.1ç±³ã€‚ç¨³æ€è¯¯å·®é€šå¸¸ç”±æ¯”ä¾‹æ§åˆ¶çš„å›ºæœ‰ç‰¹æ€§å¯¼è‡´ï¼Œéœ€è¦ç§¯åˆ†é¡¹æ¥æ¶ˆé™¤ã€‚" },
            { q: "ä¿å®ˆå‹PIDå‚æ•°ï¼ˆå¦‚Kp=0.6, Ki=0.01, Kd=0.4ï¼‰çš„ç‰¹ç‚¹æ˜¯ï¼Ÿ", o: ["å¿«é€Ÿä½†ä¸ç¨³å®š", "ç¨³å®šä½†å“åº”æ…¢", "å®Œç¾æ— ç¼º", "æ— æ³•ä½¿ç”¨"], a: 1, e: "ä¿å®ˆå‹å‚æ•°é‡‡ç”¨è¾ƒå°çš„Kpå’ŒKiï¼Œç³»ç»Ÿååº”å¹³ç¨³ã€ç¨³å®šæ€§é«˜ã€ä¸æ˜“æŒ¯è¡ï¼Œä½†å“åº”é€Ÿåº¦æ…¢ï¼Œè·Ÿè¸ªæœ‰å»¶è¿Ÿã€‚é€‚åˆé«˜é€Ÿæˆ–å®‰å…¨è¦æ±‚é«˜çš„åœºæ™¯ã€‚" },
            { q: "æ¿€è¿›å‹PIDå‚æ•°ï¼ˆå¦‚Kp=1.5, Ki=0.05, Kd=0.3ï¼‰çš„ç‰¹ç‚¹æ˜¯ï¼Ÿ", o: ["ç¼“æ…¢å“åº”", "å¿«é€Ÿå“åº”ä½†å¯èƒ½æŒ¯è¡", "å®Œå…¨ç¨³å®š", "æ— å“åº”"], a: 1, e: "æ¿€è¿›å‹å‚æ•°é‡‡ç”¨è¾ƒå¤§çš„Kpå’ŒKiï¼Œç³»ç»Ÿå“åº”å¿«ã€è·Ÿè¸ªåŠæ—¶ï¼Œä½†ç¨³å®šæ€§è¾ƒå·®ï¼Œå®¹æ˜“å‡ºç°è¶…è°ƒå’ŒæŒ¯è¡ã€‚é€‚åˆä½é€Ÿæˆ–éœ€è¦å¿«é€Ÿå“åº”çš„åœºæ™¯ã€‚" },
            { q: "ä»€ä¹ˆæ˜¯ç§¯åˆ†é¥±å’Œï¼Ÿ", o: ["ç§¯åˆ†é¡¹è¿‡å°", "ç§¯åˆ†é¡¹ç´¯ç§¯è¿‡å¤§å¯¼è‡´å¤±æ§", "ç§¯åˆ†é¡¹ä¸ºé›¶", "æ²¡æœ‰ç§¯åˆ†é¡¹"], a: 1, e: "ç§¯åˆ†é¥±å’Œæ˜¯æŒ‡åœ¨å¤§åå·®æŒç»­å­˜åœ¨æ—¶ï¼ˆå¦‚å¯åŠ¨é˜¶æ®µï¼‰ï¼Œç§¯åˆ†é¡¹ç´¯ç§¯åˆ°å¾ˆå¤§çš„å€¼ï¼Œå³ä½¿åå·®å·²ç»æ¶ˆé™¤ï¼Œå·¨å¤§çš„ç§¯åˆ†é¡¹ä»ä¼šå¯¼è‡´ç³»ç»ŸæŒç»­è¶…è°ƒã€‚éœ€è¦è®¾ç½®ç§¯åˆ†é™å¹…é˜²æ­¢é¥±å’Œã€‚" },
            { q: "å¦‚ä½•é˜²æ­¢ç§¯åˆ†é¥±å’Œï¼Ÿ", o: ["ä¸ä½¿ç”¨ç§¯åˆ†é¡¹", "è®¾ç½®ç§¯åˆ†é¡¹çš„ä¸Šä¸‹é™", "å¢å¤§ç§¯åˆ†å¢ç›Š", "å‡å°ç§¯åˆ†å¢ç›Š"], a: 1, e: "é˜²æ­¢ç§¯åˆ†é¥±å’Œçš„æ–¹æ³•åŒ…æ‹¬ï¼š1)è®¾ç½®ç§¯åˆ†é¡¹çš„ä¸Šä¸‹é™ï¼ˆç§¯åˆ†é™å¹…ï¼‰ï¼›2)å½“åå·®è¿‡å¤§æ—¶æš‚åœç§¯åˆ†ç´¯ç§¯ï¼›3)åå·®åå‘æ—¶æ¸…ç©ºç§¯åˆ†ã€‚è¿™äº›æ–¹æ³•å¯ä»¥é¿å…ç§¯åˆ†é¡¹å¤±æ§ã€‚" },
            { q: "é™ä½è½¦è¾†é€Ÿåº¦å¯¹æ§åˆ¶ç²¾åº¦çš„å½±å“æ˜¯ï¼Ÿ", o: ["æ›´éš¾æ§åˆ¶", "æ›´å®¹æ˜“ç²¾ç¡®è·Ÿè¸ªè·¯å¾„", "æ²¡æœ‰å½±å“", "æ— æ³•æ§åˆ¶"], a: 1, e: "é€Ÿåº¦é™ä½åï¼Œè½¦è¾†æƒ¯æ€§å‡å°ï¼Œè½¬å‘æ›´çµæ´»ï¼Œæ§åˆ¶ç³»ç»Ÿæœ‰æ›´å¤šæ—¶é—´åšå‡ºè°ƒæ•´ï¼Œè·Ÿè¸ªç²¾åº¦æ˜¾è‘—æå‡ã€‚ä½†é€Ÿåº¦è¿‡ä½ä¼šå½±å“æ•ˆç‡ï¼Œéœ€è¦åœ¨ç²¾åº¦å’Œæ•ˆç‡é—´å¹³è¡¡ã€‚" },

            // æ§åˆ¶è¯¯å·® (12é¢˜)
            { q: "CTEçš„å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ", o: ["Car Total Error", "Cross Track Errorï¼ˆæ¨ªå‘åå·®ï¼‰", "Control Time Error", "Current Track Error"], a: 1, e: "CTEï¼ˆCross Track Errorï¼‰æ˜¯æŒ‡è½¦è¾†å½“å‰ä½ç½®åˆ°ç›®æ ‡è·¯å¾„çš„å‚ç›´è·ç¦»ï¼ˆæ¨ªå‘åå·®ï¼‰ï¼Œæ˜¯è¯„ä»·è·Ÿè¸ªç²¾åº¦çš„æ ¸å¿ƒæŒ‡æ ‡ã€‚CTEè¶Šå°ï¼Œè¯´æ˜è½¦è¾†è¶Šé è¿‘è·¯å¾„ã€‚" },
            { q: "CTEçš„å•ä½é€šå¸¸æ˜¯ï¼Ÿ", o: ["åº¦ï¼ˆÂ°ï¼‰", "ç±³ï¼ˆmï¼‰", "ç§’ï¼ˆsï¼‰", "å…¬é‡Œ/å°æ—¶ï¼ˆkm/hï¼‰"], a: 1, e: "CTEæ˜¯è·ç¦»è¯¯å·®ï¼Œå•ä½ä¸ºç±³ï¼ˆmï¼‰æˆ–å˜ç±³ï¼ˆcmï¼‰ã€‚ä¾‹å¦‚CTE=0.5mè¡¨ç¤ºè½¦è¾†åç¦»è·¯å¾„0.5ç±³ã€‚" },
            { q: "CTEä¸º0è¡¨ç¤ºä»€ä¹ˆï¼Ÿ", o: ["è½¦è¾†åç¦»è·¯å¾„", "è½¦è¾†ç²¾ç¡®åœ¨è·¯å¾„ä¸Š", "è½¦è¾†åœæ­¢", "è½¦è¾†åŠ é€Ÿ"], a: 1, e: "CTE=0è¡¨ç¤ºè½¦è¾†å½“å‰ä½ç½®æ°å¥½åœ¨ç›®æ ‡è·¯å¾„ä¸Šï¼Œæ¨ªå‘åå·®ä¸ºé›¶ï¼Œæ˜¯ç†æƒ³çš„è·Ÿè¸ªçŠ¶æ€ã€‚å®é™…ä¸­CTEä¼šåœ¨é›¶é™„è¿‘å°å¹…æ³¢åŠ¨ã€‚" },
            { q: "CTEä¸ºæ­£é€šå¸¸è¡¨ç¤ºä»€ä¹ˆï¼ˆå³æ‰‹åæ ‡ç³»ï¼‰ï¼Ÿ", o: ["è½¦åœ¨è·¯å¾„å·¦ä¾§", "è½¦åœ¨è·¯å¾„å³ä¾§", "è½¦åœ¨è·¯å¾„ä¸Š", "è½¦è¾†åœæ­¢"], a: 1, e: "åœ¨å¸¸è§çš„å³æ‰‹åæ ‡ç³»å®šä¹‰ä¸­ï¼ŒCTEä¸ºæ­£è¡¨ç¤ºè½¦è¾†ä½äºè·¯å¾„çš„å³ä¾§ï¼ŒCTEä¸ºè´Ÿè¡¨ç¤ºä½äºå·¦ä¾§ã€‚è¿™ä¸ªå®šä¹‰å¸®åŠ©æ§åˆ¶å™¨åˆ¤æ–­è½¬å‘æ–¹å‘ã€‚" },
            { q: "èˆªå‘è¯¯å·®ï¼ˆHeading Errorï¼‰æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ", o: ["é€Ÿåº¦è¯¯å·®", "è½¦å¤´æ–¹å‘ä¸è·¯å¾„åˆ‡çº¿æ–¹å‘çš„è§’åº¦å·®", "è·ç¦»è¯¯å·®", "æ—¶é—´è¯¯å·®"], a: 1, e: "èˆªå‘è¯¯å·®æ˜¯è½¦è¾†æœå‘ï¼ˆè½¦å¤´æŒ‡å‘ï¼‰ä¸è·¯å¾„æœŸæœ›æ–¹å‘ï¼ˆè·¯å¾„åˆ‡çº¿æ–¹å‘ï¼‰ä¹‹é—´çš„è§’åº¦å·®ã€‚å³ä½¿CTEä¸ºé›¶ï¼Œå¦‚æœèˆªå‘è¯¯å·®å¤§ï¼Œè½¦è¾†ä¹Ÿä¼šåç¦»è·¯å¾„ã€‚" },
            { q: "èˆªå‘è¯¯å·®çš„å•ä½æ˜¯ï¼Ÿ", o: ["ç±³ï¼ˆmï¼‰", "ç§’ï¼ˆsï¼‰", "åº¦ï¼ˆÂ°ï¼‰æˆ–å¼§åº¦ï¼ˆradï¼‰", "å…¬é‡Œï¼ˆkmï¼‰"], a: 2, e: "èˆªå‘è¯¯å·®æ˜¯è§’åº¦è¯¯å·®ï¼Œå•ä½ä¸ºåº¦ï¼ˆdegreeï¼‰æˆ–å¼§åº¦ï¼ˆradianï¼‰ã€‚ä¾‹å¦‚èˆªå‘è¯¯å·®=10Â°è¡¨ç¤ºè½¦å¤´æ–¹å‘åç¦»æœŸæœ›æ–¹å‘10åº¦ã€‚" },
            { q: "ä¼˜ç§€çš„è·¯å¾„è·Ÿè¸ªä¸­ï¼Œå¹³å‡CTEåº”è¯¥å°äºå¤šå°‘ï¼Ÿ", o: ["1ç±³", "0.3ç±³", "5ç±³", "10ç±³"], a: 1, e: "åœ¨è‡ªåŠ¨é©¾é©¶ä¸­ï¼Œå¹³å‡CTEå°äº0.3ç±³è¢«è®¤ä¸ºæ˜¯ä¼˜ç§€çš„è·Ÿè¸ªæ•ˆæœï¼›å°äº0.5ç±³æ˜¯è‰¯å¥½ï¼›å¤§äº1ç±³è¯´æ˜è·Ÿè¸ªç²¾åº¦ä¸è¶³ï¼Œéœ€è¦ä¼˜åŒ–å‚æ•°æˆ–ç®—æ³•ã€‚" },
            { q: "å¦‚æœCTEæŒç»­å¢å¤§ï¼Œè¯´æ˜ä»€ä¹ˆï¼Ÿ", o: ["æ§åˆ¶æ•ˆæœè‰¯å¥½", "è½¦è¾†æ­£åœ¨åç¦»è·¯å¾„", "å·²åˆ°è¾¾ç»ˆç‚¹", "è½¦è¾†å·²åœæ­¢"], a: 1, e: "CTEæŒç»­å¢å¤§è¯´æ˜è½¦è¾†è¶Šæ¥è¶Šåç¦»è·¯å¾„ï¼Œæ§åˆ¶å™¨æ²¡æœ‰æœ‰æ•ˆçº æ­£åå·®ã€‚å¯èƒ½æ˜¯å‚æ•°ä¸å½“ã€è·¯å¾„è¿‡äºå¤æ‚æˆ–å­˜åœ¨å¤–éƒ¨å¹²æ‰°ã€‚éœ€è¦ç«‹å³è°ƒæ•´æ§åˆ¶ç­–ç•¥ã€‚" },
            { q: "å¦‚æœèˆªå‘è¯¯å·®å¾ˆå¤§ï¼ˆå¦‚>30Â°ï¼‰ï¼Œè¯´æ˜ä»€ä¹ˆï¼Ÿ", o: ["æ–¹å‘æ­£ç¡®", "è½¦å¤´æ–¹å‘ä¸¥é‡åç¦»", "é€Ÿåº¦è¿‡å¿«", "é€Ÿåº¦è¿‡æ…¢"], a: 1, e: "èˆªå‘è¯¯å·®è¿‡å¤§è¯´æ˜è½¦å¤´æŒ‡å‘ä¸æœŸæœ›æ–¹å‘ä¸¥é‡åç¦»ï¼Œå³ä½¿å½“å‰CTEè¾ƒå°ï¼Œè½¦è¾†ä¹Ÿä¼šå¾ˆå¿«åç¦»è·¯å¾„ã€‚éœ€è¦å¿«é€Ÿè°ƒæ•´è½¬å‘è§’ä»¥çº æ­£èˆªå‘ã€‚" },
            { q: "æ§åˆ¶çš„æœ€ç»ˆç›®æ ‡æ˜¯è®©å“ªäº›è¯¯å·®è¶‹è¿‘äºé›¶ï¼Ÿ", o: ["åªæœ‰CTE", "åªæœ‰èˆªå‘è¯¯å·®", "CTEå’Œèˆªå‘è¯¯å·®éƒ½è¶‹è¿‘äºé›¶", "ä¸éœ€è¦è€ƒè™‘è¯¯å·®"], a: 2, e: "ç†æƒ³çš„è·¯å¾„è·Ÿè¸ªéœ€è¦åŒæ—¶è®©CTEï¼ˆä½ç½®è¯¯å·®ï¼‰å’Œèˆªå‘è¯¯å·®ï¼ˆæ–¹å‘è¯¯å·®ï¼‰éƒ½è¶‹è¿‘äºé›¶ã€‚åªçº æ­£ä½ç½®ä¸çº æ­£æ–¹å‘ï¼Œæˆ–åä¹‹ï¼Œéƒ½æ— æ³•å®ç°ç¨³å®šè·Ÿè¸ªã€‚" },
            { q: "å“ªä¸ªä¸æ˜¯æ§åˆ¶è¯¯å·®çš„è¯„ä»·æŒ‡æ ‡ï¼Ÿ", o: ["å¹³å‡CTE", "æœ€å¤§CTE", "èˆªå‘è¯¯å·®", "è½¦è¾†é¢œè‰²"], a: 3, e: "æ§åˆ¶è¯¯å·®çš„è¯„ä»·æŒ‡æ ‡åŒ…æ‹¬ï¼šå¹³å‡CTEï¼ˆæ•´ä½“ç²¾åº¦ï¼‰ã€æœ€å¤§CTEï¼ˆæœ€å·®æƒ…å†µï¼‰ã€CTEæ ‡å‡†å·®ï¼ˆç¨³å®šæ€§ï¼‰ã€èˆªå‘è¯¯å·®ç­‰ã€‚è½¦è¾†é¢œè‰²ä¸æ§åˆ¶æ€§èƒ½æ— å…³ã€‚" },
            { q: "ä»€ä¹ˆæ—¶å€™CTEæœ€å®¹æ˜“å¢å¤§ï¼Ÿ", o: ["ç›´çº¿è¡Œé©¶æ—¶", "æ€¥è½¬å¼¯æ—¶", "åœè½¦æ—¶", "åŠ é€Ÿæ—¶"], a: 1, e: "æ€¥è½¬å¼¯æ—¶è·¯å¾„æ›²ç‡å¤§ï¼Œè½¦è¾†è·Ÿè¸ªéš¾åº¦å¢åŠ ï¼ŒCTEå®¹æ˜“å¢å¤§ã€‚æ­¤æ—¶éœ€è¦é™ä½é€Ÿåº¦æˆ–ä½¿ç”¨æ›´å¼ºçš„æ§åˆ¶å‚æ•°ï¼Œç¡®ä¿ç²¾ç¡®è·Ÿè¸ªå¼¯é“ã€‚" },

            // åæ ‡ç³»ä¸è¿åŠ¨å­¦ (8é¢˜)
            { q: "åœ¨2Då¹³é¢åæ ‡ç³»ä¸­ï¼Œè½¦è¾†çš„ä½å§¿ç”¨ä»€ä¹ˆè¡¨ç¤ºï¼Ÿ", o: ["åªæœ‰(x, y)", "åªæœ‰Î¸", "(x, y, Î¸)ä¸‰ä¸ªé‡", "åªæœ‰é€Ÿåº¦v"], a: 2, e: "è½¦è¾†çš„ä½å§¿ï¼ˆposeï¼‰åŒ…æ‹¬ä½ç½®å’Œæœå‘ï¼Œç”¨(x, y, Î¸)ä¸‰ä¸ªé‡è¡¨ç¤ºï¼š(x, y)æ˜¯ä½ç½®åæ ‡ï¼ŒÎ¸æ˜¯è½¦è¾†æœå‘è§’ï¼ˆç›¸å¯¹äºXè½´çš„è§’åº¦ï¼‰ã€‚" },
            { q: "è½¦è¾†æœå‘è§’Î¸çš„å®šä¹‰æ˜¯ï¼Ÿ", o: ["ç›¸å¯¹Yè½´çš„è§’åº¦", "ç›¸å¯¹Xè½´çš„è§’åº¦", "ç›¸å¯¹éšœç¢ç‰©çš„è§’åº¦", "éšæœºè§’åº¦"], a: 1, e: "è½¦è¾†æœå‘è§’Î¸æ˜¯è½¦å¤´æŒ‡å‘ä¸Xè½´æ­£æ–¹å‘çš„å¤¹è§’ï¼ˆé€†æ—¶é’ˆä¸ºæ­£ï¼‰ã€‚Î¸=0è¡¨ç¤ºè½¦å¤´æœå‘Xè½´æ­£æ–¹å‘ï¼ˆå‘å³ï¼‰ï¼ŒÎ¸=90Â°è¡¨ç¤ºæœå‘Yè½´æ­£æ–¹å‘ï¼ˆå‘ä¸Šï¼‰ã€‚" },
            { q: "é€Ÿåº¦våœ¨è¿åŠ¨å­¦æ–¹ç¨‹ä¸­è¡¨ç¤ºä»€ä¹ˆï¼Ÿ", o: ["ä½“ç§¯", "çº¿é€Ÿåº¦ï¼ˆå‰è¿›é€Ÿåº¦ï¼‰", "ç”µå‹", "é‡é‡"], a: 1, e: "vè¡¨ç¤ºè½¦è¾†çš„çº¿é€Ÿåº¦ï¼ˆlinear velocityï¼‰ï¼Œå³è½¦è¾†æ²¿è½¦å¤´æ–¹å‘çš„å‰è¿›é€Ÿåº¦ï¼Œå•ä½ä¸ºç±³/ç§’ï¼ˆm/sï¼‰ã€‚v>0è¡¨ç¤ºå‰è¿›ï¼Œv<0è¡¨ç¤ºåé€€ã€‚" },
            { q: "è§’é€Ÿåº¦Ï‰åœ¨è¿åŠ¨å­¦æ–¹ç¨‹ä¸­è¡¨ç¤ºä»€ä¹ˆï¼Ÿ", o: ["é‡é‡", "å‰è¿›é€Ÿåº¦", "è½¬å‘é€Ÿç‡ï¼ˆæœå‘è§’å˜åŒ–ç‡ï¼‰", "åŠŸç‡"], a: 2, e: "Ï‰ï¼ˆomegaï¼‰è¡¨ç¤ºè§’é€Ÿåº¦ï¼ˆangular velocityï¼‰ï¼Œå³è½¦è¾†æœå‘è§’Î¸çš„å˜åŒ–ç‡ï¼Œå•ä½ä¸ºå¼§åº¦/ç§’ï¼ˆrad/sï¼‰ã€‚Ï‰>0è¡¨ç¤ºé€†æ—¶é’ˆæ—‹è½¬ï¼ˆå·¦è½¬ï¼‰ï¼ŒÏ‰<0è¡¨ç¤ºé¡ºæ—¶é’ˆæ—‹è½¬ï¼ˆå³è½¬ï¼‰ã€‚" },
            { q: "è¿åŠ¨å­¦æ–¹ç¨‹x' = vÂ·cos(Î¸)è¡¨ç¤ºä»€ä¹ˆï¼Ÿ", o: ["Yæ–¹å‘çš„é€Ÿåº¦åˆ†é‡", "Xæ–¹å‘çš„é€Ÿåº¦åˆ†é‡", "è§’é€Ÿåº¦", "åŠ é€Ÿåº¦"], a: 1, e: "x' = vÂ·cos(Î¸)è¡¨ç¤ºè½¦è¾†é€Ÿåº¦åœ¨Xè½´æ–¹å‘çš„åˆ†é‡ã€‚å½“Î¸=0ï¼ˆæœå³ï¼‰æ—¶ï¼Œx'=vï¼›å½“Î¸=90Â°ï¼ˆæœä¸Šï¼‰æ—¶ï¼Œx'=0ã€‚è¿™ä¸ªæ–¹ç¨‹ç”¨äºè®¡ç®—è½¦è¾†Xåæ ‡çš„å˜åŒ–ã€‚" },
            { q: "è¿åŠ¨å­¦æ–¹ç¨‹y' = vÂ·sin(Î¸)è¡¨ç¤ºä»€ä¹ˆï¼Ÿ", o: ["Xæ–¹å‘çš„é€Ÿåº¦åˆ†é‡", "Yæ–¹å‘çš„é€Ÿåº¦åˆ†é‡", "è§’é€Ÿåº¦", "åŠ é€Ÿåº¦"], a: 1, e: "y' = vÂ·sin(Î¸)è¡¨ç¤ºè½¦è¾†é€Ÿåº¦åœ¨Yè½´æ–¹å‘çš„åˆ†é‡ã€‚å½“Î¸=90Â°ï¼ˆæœä¸Šï¼‰æ—¶ï¼Œy'=vï¼›å½“Î¸=0ï¼ˆæœå³ï¼‰æ—¶ï¼Œy'=0ã€‚è¿™ä¸ªæ–¹ç¨‹ç”¨äºè®¡ç®—è½¦è¾†Yåæ ‡çš„å˜åŒ–ã€‚" },
            { q: "è¿åŠ¨å­¦æ–¹ç¨‹Î¸' = Ï‰è¡¨ç¤ºä»€ä¹ˆï¼Ÿ", o: ["ä½ç½®å˜åŒ–", "é€Ÿåº¦å˜åŒ–", "æœå‘è§’çš„å˜åŒ–ç‡", "æ— æ„ä¹‰"], a: 2, e: "Î¸' = Ï‰è¡¨ç¤ºè½¦è¾†æœå‘è§’çš„å˜åŒ–ç‡ç­‰äºè§’é€Ÿåº¦ã€‚å¦‚æœÏ‰=0.1 rad/sï¼Œé‚£ä¹ˆæ¯ç§’é’ŸÎ¸å¢åŠ 0.1å¼§åº¦ï¼ˆçº¦5.7åº¦ï¼‰ã€‚è¿™ä¸ªæ–¹ç¨‹ç”¨äºæ›´æ–°è½¦è¾†æœå‘ã€‚" },
            { q: "æ§åˆ¶å‘¨æœŸdté€šå¸¸è®¾ç½®ä¸ºå¤šå°‘ï¼Ÿ", o: ["1æ¯«ç§’", "50æ¯«ç§’", "1ç§’", "10ç§’"], a: 1, e: "æ§åˆ¶å‘¨æœŸdté€šå¸¸è®¾ç½®ä¸º20-100æ¯«ç§’ï¼ˆå¯¹åº”20-10Hzæ§åˆ¶é¢‘ç‡ï¼‰ã€‚50msï¼ˆ20Hzï¼‰æ˜¯å¸¸è§é€‰æ‹©ï¼Œå¹³è¡¡äº†å®æ—¶æ€§å’Œè®¡ç®—è´Ÿæ‹…ã€‚dtè¶Šå°ï¼Œæ§åˆ¶è¶Šå¹³æ»‘ï¼Œä½†è®¡ç®—é‡è¶Šå¤§ã€‚" },

            // ç»¼åˆåº”ç”¨ (5é¢˜)
            { q: "åœ¨ç‹­çª„åœè½¦åœºæ™¯ä¸­ï¼Œæœ€é‡è¦çš„æ§åˆ¶è¦æ±‚æ˜¯ï¼Ÿ", o: ["é€Ÿåº¦å¿«", "ç²¾ç¡®æ§åˆ¶ä½ç½®", "å£°éŸ³å¤§", "ç¯å…‰ç‚«"], a: 1, e: "åœè½¦åœºæ™¯ç©ºé—´ç‹­çª„ï¼Œéœ€è¦å˜ç±³çº§çš„ç²¾ç¡®æ§åˆ¶ï¼Œé¿å…ç¢°æ’ã€‚æ­¤æ—¶åº”é™ä½é€Ÿåº¦ã€ä½¿ç”¨è¾ƒå¤§çš„Kpä»¥æé«˜ç²¾åº¦ï¼Œå¯å®¹å¿è¾ƒæ…¢çš„å“åº”é€Ÿåº¦ã€‚å®‰å…¨å’Œç²¾åº¦æ˜¯é¦–è¦ç›®æ ‡ã€‚" },
            { q: "åœ¨é«˜é€Ÿå…¬è·¯è½¦é“ä¿æŒä¸­ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Ÿ", o: ["ç²¾ç¡®ä¿æŒåœ¨è½¦é“ä¸­å¿ƒ", "å·¦å³å¿«é€Ÿæ‘‡æ‘†", "é¢‘ç¹æ€¥è½¬å¼¯", "å¿½ç•¥è½¦é“çº¿"], a: 0, e: "é«˜é€Ÿå…¬è·¯è½¦é“ä¿æŒè¦æ±‚è½¦è¾†ç¨³å®šåœ°ä¿æŒåœ¨è½¦é“ä¸­å¿ƒé™„è¿‘ï¼Œæ¨ªå‘åå·®å°ã€‚æ­¤æ—¶åº”ä½¿ç”¨ä¿å®ˆå‹å‚æ•°ï¼ˆè¾ƒå°Kpï¼‰ï¼Œç¡®ä¿ç¨³å®šèˆ’é€‚ï¼Œé¿å…æŒ¯è¡å’Œæ€¥è½¬å‘ã€‚" },
            { q: "é‡åˆ°æ€¥è½¬å¼¯æ—¶ï¼Œæœ€ä½³çš„æ§åˆ¶ç­–ç•¥æ˜¯ï¼Ÿ", o: ["åŠ é€Ÿå†²è¿‡å»", "é™ä½é€Ÿåº¦ã€å¢å¼ºæ§åˆ¶åŠ›åº¦", "ä¿æŒé«˜é€Ÿ", "åœè½¦"], a: 1, e: "æ€¥è½¬å¼¯æ—¶è·¯å¾„æ›²ç‡å¤§ï¼Œè·Ÿè¸ªéš¾åº¦é«˜ã€‚åº”æå‰é™ä½é€Ÿåº¦ä»¥å‡å°æƒ¯æ€§ï¼ŒåŒæ—¶å¯é€‚å½“å¢å¤§Kpä»¥å¢å¼ºçº åèƒ½åŠ›ï¼Œç¡®ä¿ç²¾ç¡®è·Ÿè¸ªå¼¯é“è·¯å¾„ï¼Œé˜²æ­¢åç¦»ã€‚" },
            { q: "å¦‚æœè½¦è¾†å‡ºç°æŒç»­æŒ¯è¡ï¼Œåº”è¯¥å¦‚ä½•è°ƒæ•´PIDå‚æ•°ï¼Ÿ", o: ["å¢å¤§Kp", "å‡å°Kpæˆ–å¢å¤§Kd", "å¢å¤§Ki", "å‡å°Kd"], a: 1, e: "æŒç»­æŒ¯è¡é€šå¸¸ç”±Kpè¿‡å¤§æˆ–Kdä¸è¶³å¼•èµ·ã€‚åº”é€‚å½“å‡å°Kpä»¥é™ä½ååº”å¼ºåº¦ï¼Œæˆ–å¢å¤§Kdä»¥å¢å¼ºé˜»å°¼æ•ˆæœï¼ŒæŠ‘åˆ¶æŒ¯è¡ï¼Œæé«˜ç³»ç»Ÿç¨³å®šæ€§ã€‚" },
            { q: "è·¯å¾„è§„åˆ’ä¸è·¯å¾„è·Ÿè¸ªæ§åˆ¶çš„å…³ç³»æ˜¯ï¼Ÿ", o: ["è§„åˆ’å’Œæ§åˆ¶æ˜¯åŒä¸€ä¸ªä¸œè¥¿", "è§„åˆ’ç¡®å®šè·¯å¾„ï¼Œæ§åˆ¶è®©è½¦è¾†è·Ÿéšè·¯å¾„", "åªéœ€è¦è§„åˆ’ä¸éœ€è¦æ§åˆ¶", "åªéœ€è¦æ§åˆ¶ä¸éœ€è¦è§„åˆ’"], a: 1, e: "è·¯å¾„è§„åˆ’å’Œè·¯å¾„è·Ÿè¸ªæ˜¯ä¸¤ä¸ªç‹¬ç«‹ä½†ç´§å¯†ç›¸å…³çš„æ¨¡å—ã€‚è§„åˆ’ç”Ÿæˆä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœŸæœ›è·¯å¾„ï¼ˆä¸€ç³»åˆ—åæ ‡ç‚¹ï¼‰ï¼Œæ§åˆ¶åˆ™æ ¹æ®è·¯å¾„è®¡ç®—è½¬å‘å’Œé€Ÿåº¦æŒ‡ä»¤ï¼Œä½¿è½¦è¾†ç²¾ç¡®è·Ÿéšè¿™æ¡è·¯å¾„ã€‚äºŒè€…ç¼ºä¸€ä¸å¯ã€‚" }
        ];

        let username = '';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let answers = [];
        let startTime = 0;
        let timerInterval = null;

        // å¼€å§‹æµ‹éªŒ
        function startQuiz() {
            username = document.getElementById('username-input').value.trim();
            if (!username) {
                alert('è¯·è¾“å…¥ä½ çš„åå­—ï¼');
                return;
            }

            // éšæœºæŠ½å–20é“é¢˜
            currentQuestions = shuffleArray([...questionBank]).slice(0, 20);
            answers = new Array(20).fill(null);
            currentQuestionIndex = 0;

            document.getElementById('login-page').style.display = 'none';
            document.getElementById('quiz-page').style.display = 'block';
            document.getElementById('display-username').textContent = username;

            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);

            showQuestion();
        }

        // æ´—ç‰Œç®—æ³•
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            document.getElementById('question-num').textContent = currentQuestionIndex + 1;
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            document.getElementById('question-text').textContent = question.q;

            // éšè—è§£æ
            document.getElementById('explanation').classList.remove('show');

            const answered = answers[currentQuestionIndex] !== null;

            const optionsHtml = question.o.map((opt, idx) => {
                let optionClass = 'option';
                if (answered) {
                    if (idx === question.a) {
                        optionClass += ' correct';
                    } else if (idx === answers[currentQuestionIndex]) {
                        optionClass += ' wrong';
                    }
                } else if (answers[currentQuestionIndex] === idx) {
                    optionClass += ' selected';
                }
                const disabled = answered ? 'style="pointer-events:none"' : '';
                return `<li class="${optionClass}" ${disabled} onclick="selectOption(${idx})">${String.fromCharCode(65 + idx)}. ${opt}</li>`;
            }).join('');
            document.getElementById('options').innerHTML = optionsHtml;

            // å¦‚æœå·²å›ç­”ï¼Œæ˜¾ç¤ºè§£æ
            if (answered) {
                const isCorrect = answers[currentQuestionIndex] === question.a;
                showExplanation(isCorrect, question.e, question.a);
            }

            document.getElementById('btn-prev').disabled = currentQuestionIndex === 0;
            document.getElementById('btn-next').textContent = currentQuestionIndex === 19 ? 'æäº¤ç­”æ¡ˆ' : 'ä¸‹ä¸€é¢˜';

            // æ›´æ–°è¿›åº¦æ¡
            const progress = ((currentQuestionIndex + 1) / 20) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(idx) {
            if (answers[currentQuestionIndex] !== null) {
                return; // å·²ç»ç­”è¿‡äº†ï¼Œä¸èƒ½é‡å¤é€‰æ‹©
            }

            answers[currentQuestionIndex] = idx;
            const question = currentQuestions[currentQuestionIndex];
            const isCorrect = idx === question.a;

            // æ˜¾ç¤ºç»“æœå’Œè§£æ
            showExplanation(isCorrect, question.e, question.a);

            // ç¦ç”¨æ‰€æœ‰é€‰é¡¹
            document.querySelectorAll('.option').forEach((opt, i) => {
                opt.style.pointerEvents = 'none';
                if (i === question.a) {
                    opt.classList.add('correct');
                } else if (i === idx && !isCorrect) {
                    opt.classList.add('wrong');
                }
            });
        }

        //æ˜¾ç¤ºè§£æ
        function showExplanation(isCorrect, explanation, correctIdx) {
            const explanationDiv = document.getElementById('explanation');
            const resultIndicator = document.getElementById('result-indicator');
            const explanationContent = document.getElementById('explanation-content');

            resultIndicator.className = 'result-indicator ' + (isCorrect ? 'correct' : 'wrong');
            resultIndicator.textContent = isCorrect ? 'âœ“ å›ç­”æ­£ç¡®' : 'âœ— å›ç­”é”™è¯¯';
            explanationContent.textContent = explanation;

            explanationDiv.classList.add('show');
        }

        // ä¸Šä¸€é¢˜
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        // ä¸‹ä¸€é¢˜/æäº¤
        function nextQuestion() {
            if (answers[currentQuestionIndex] === null) {
                alert('è¯·é€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }

            if (currentQuestionIndex === 19) {
                submitQuiz();
            } else {
                currentQuestionIndex++;
                showQuestion();
            }
        }

        // æ›´æ–°è®¡æ—¶å™¨
        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('timer').textContent =
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        // æäº¤æµ‹éªŒ
        async function submitQuiz() {
            clearInterval(timerInterval);

            // è®¡ç®—åˆ†æ•°
            let correct = 0;
            for (let i = 0; i < 20; i++) {
                if (answers[i] === currentQuestions[i].a) {
                    correct++;
                }
            }

            const score = correct * 5; // æ¯é¢˜5åˆ†
            const timeSpent = (Date.now() - startTime) / 1000;

            // æäº¤åˆ°æœåŠ¡å™¨
            try {
                const response = await fetch(`${API_URL}/quiz/submit`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        username: username,
                        score: score,
                        total: 100,
                        time_spent: timeSpent,
                        timestamp: new Date().toISOString()
                    })
                });

                const data = await response.json();
                showResult(score, correct, timeSpent, data.rank);
            } catch (error) {
                console.error('æäº¤å¤±è´¥:', error);
                showResult(score, correct, timeSpent, -1);
            }
        }

        // æ˜¾ç¤ºç»“æœ
        async function showResult(score, correct, timeSpent, rank) {
            document.getElementById('quiz-page').style.display = 'none';
            document.getElementById('result-page').style.display = 'block';

            document.getElementById('final-score').textContent = score + ' åˆ†';
            document.getElementById('correct-count').textContent = correct;

            const minutes = Math.floor(timeSpent / 60);
            const seconds = Math.floor(timeSpent % 60);
            document.getElementById('time-spent').textContent =
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

            document.getElementById('rank').textContent = rank > 0 ? rank : 'æäº¤å¤±è´¥';

            // åŠ è½½æ’è¡Œæ¦œ
            await loadLeaderboard();
        }

        // åŠ è½½æ’è¡Œæ¦œ
        async function loadLeaderboard(containerId = 'leaderboard-list') {
            try {
                const response = await fetch(`${API_URL}/quiz/leaderboard`);
                const data = await response.json();

                if (data.success) {
                    const isInitial = containerId === 'initial-leaderboard';
                    const displayCount = isInitial ? 5 : 10;

                    const leaderboardHtml = data.data.slice(0, displayCount).map((item, idx) => {
                        const rankClass = idx === 0 ? 'gold' : idx === 1 ? 'silver' : idx === 2 ? 'bronze' : '';
                        const isMe = item.username === username;

                        return `
                            <div class="leaderboard-item ${isMe ? 'me' : ''}">
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <span class="rank ${rankClass}">#${idx + 1}</span>
                                    <div>
                                        <div style="font-size: 18px;">${item.username} ${isMe ? '(ä½ )' : ''}</div>
                                        <div style="font-size: 12px; color: #999;">${Math.floor(item.time_spent / 60)}åˆ†${Math.floor(item.time_spent % 60)}ç§’</div>
                                    </div>
                                </div>
                                <div style="font-size: 24px; font-weight: bold; color: #667eea;">${item.score}åˆ†</div>
                            </div>
                        `;
                    }).join('');

                    document.getElementById(containerId).innerHTML = leaderboardHtml;
                }
            } catch (error) {
                console.error('åŠ è½½æ’è¡Œæ¦œå¤±è´¥:', error);
            }
        }

        // é¡µé¢åŠ è½½æ—¶åŠ è½½æ’è¡Œæ¦œ
        window.addEventListener('DOMContentLoaded', () => {
            loadLeaderboard('initial-leaderboard');
        });
    </script>
</body>

</html>